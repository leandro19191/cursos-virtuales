define ("profilefield_conditional/conditions",["jquery"],function(a){var b=function(b){var c=a("#fitem_id_profile_field_"+b);if(0===c.length){c=a(".fitem [name=profile_field_"+b+"], .fitem [name^=profile_field_"+b+"\\[]").closest(".fitem.row")}return c},c=function(b,c,d){this.fieldName=b;this.conditions=a.parseJSON(c);var e=[];this.conditions.forEach(function(b){b.hiddenfields.forEach(function(b){if(-1==a.inArray(b,e)){e.push(b)}});b.requiredfields.forEach(function(b){if(-1==a.inArray(b,e)){e.push(b)}})});this.allElements=e;this.reqHTML=d;this.initReqStars();this.toggleReqStars();a("#id_profile_field_"+b).change(this.toggleReqStars.bind(this))};c.prototype.fieldName=null;c.prototype.conditions=null;c.prototype.allElements=null;c.prototype.options=null;c.prototype.initReqStars=function(){var a=[];this.allElements.forEach(function(c){if(0!==b(c).find(".fitemtitle .req").length||0!==b(c).find("abbr.text-danger").length){a.push(c)}});this.conditions.push({option:"",requiredfields:a})};c.prototype.toggleReqStars=function(){var c=a("#id_profile_field_"+this.fieldName).val(),d=this.reqHTML,e=this.allElements,f,g,h,i=null;this.conditions.forEach(function(j){if(j.option==c){f=j.requiredfields;e.forEach(function(c){g=b(c);if(null===i){i=g.has(".float-sm-right").length}if(-1!=a.inArray(c,f)){h=g.find(".text-danger");if(0===h.length){h=a(d).hide();if(i){g.find(".float-sm-right").append(h)}else{g.find(".col-form-label .align-items-center").append(h)}}h.show()}else{g.find(".text-danger").hide(0,function(){if(-1!=a.inArray(c,f)){b(c).find(".text-danger").remove()}})}})}});this.reqHTML=d};return{apply:function apply(a,b,d){return new c(a,b,d)}}});
//# sourceMappingURL=conditions.min.js.map
